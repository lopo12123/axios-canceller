"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("axios"),t=require("./core.js");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=r(e);exports.UseAxios=class{#e;constructor(e={}){this.#e=e}#t=new Map;get request_interceptors(){return[...this.#t.keys()]}#r=new Map;get response_interceptors(){return[...this.#r.keys()]}add_request_interceptor(e,t){this.#t.set(e,t)}remove_request_interceptor(e){this.#t.delete(e)}clear_request_interceptor(){this.#t.clear()}add_response_interceptor(e,t){this.#r.set(e,t)}remove_response_interceptor(e){this.#r.delete(e)}clear_response_interceptor(){this.#r.clear()}#s=new Map;get scopes(){return[...this.#s.keys()]}cancel_scope(e,t=""){this.#s.get(e)?.abort(t),this.#s.delete(e)}cancel_scopes(...e){e.forEach((e=>{this.cancel_scope(e)}))}cancel_all(){this.#s.forEach((e=>{e.abort()})),this.#s.clear()}static isCancel=e=>s.default.isCancel(e)||e instanceof DOMException&&"AbortError"===e.name;isCancel=e=>s.default.isCancel(e)||e instanceof DOMException&&"AbortError"===e.name;entry_or_insert(e){return this.#s.has(e)||this.#s.set(e,new AbortController),this.#s.get(e)}get(e,t,r){const n=this.entry_or_insert(e);return r&&this.#t.forEach((e=>{e.fn(r)})),new Promise(((e,o)=>{s.default.get(t,{...r??this.#e,signal:n.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),o(e)}))}))}get_retry(e,r,s,n){return t.do_retry_task(r,this.get,[e,s,n],this.isCancel)}post(e,t,r,n){const o=this.entry_or_insert(e);return n&&this.#t.forEach((e=>{e.fn(n)})),new Promise(((e,i)=>{s.default.post(t,r,{...n??this.#e,signal:o.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}post_retry(e,r,s,n,o){return t.do_retry_task(r,this.post,[e,s,n,o],this.isCancel)}delete(e,t,r){const n=this.entry_or_insert(e);return r&&this.#t.forEach((e=>{e.fn(r)})),new Promise(((e,o)=>{s.default.delete(t,{...r??this.#e,signal:n.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),o(e)}))}))}delete_retry(e,r,s,n){return t.do_retry_task(r,this.delete,[e,s,n],this.isCancel)}put(e,t,r,n){const o=this.entry_or_insert(e);return n&&this.#t.forEach((e=>{e.fn(n)})),new Promise(((e,i)=>{s.default.put(t,r,{...n??this.#e,signal:o.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}put_retry(e,r,s,n,o){return t.do_retry_task(r,this.put,[e,s,n,o],this.isCancel)}head(e,t,r){const n=this.entry_or_insert(e);return r&&this.#t.forEach((e=>{e.fn(r)})),new Promise(((e,o)=>{s.default.head(t,{...r??this.#e,signal:n.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),o(e)}))}))}head_retry(e,r,s,n){return t.do_retry_task(r,this.head,[e,s,n],this.isCancel)}options(e,t,r){const n=this.entry_or_insert(e);return r&&this.#t.forEach((e=>{e.fn(r)})),new Promise(((e,o)=>{s.default.options(t,{...r??this.#e,signal:n.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),o(e)}))}))}options_retry(e,r,s,n){return t.do_retry_task(r,this.options,[e,s,n],this.isCancel)}patch(e,t,r,n){const o=this.entry_or_insert(e);return n&&this.#t.forEach((e=>{e.fn(n)})),new Promise(((e,i)=>{s.default.patch(t,r,{...n??this.#e,signal:o.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}patch_retry(e,r,s,n,o){return t.do_retry_task(r,this.patch,[e,s,n,o],this.isCancel)}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlX2F4aW9zLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvdXNlX2F4aW9zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbImdsb2JhbF9jb25maWciLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJyZXF1ZXN0X2ludGVyY2VwdG9ycyIsIk1hcCIsImtleXMiLCJyZXNwb25zZV9pbnRlcmNlcHRvcnMiLCJhZGRfcmVxdWVzdF9pbnRlcmNlcHRvciIsIm5hbWUiLCJpbnRlcmNlcHRvciIsInNldCIsInJlbW92ZV9yZXF1ZXN0X2ludGVyY2VwdG9yIiwiZGVsZXRlIiwiY2xlYXJfcmVxdWVzdF9pbnRlcmNlcHRvciIsImNsZWFyIiwiYWRkX3Jlc3BvbnNlX2ludGVyY2VwdG9yIiwicmVtb3ZlX3Jlc3BvbnNlX2ludGVyY2VwdG9yIiwiY2xlYXJfcmVzcG9uc2VfaW50ZXJjZXB0b3IiLCJzY29wZXMiLCJjYW5jZWxfc2NvcGUiLCJzY29wZSIsIm1lc3NhZ2UiLCJnZXQiLCJhYm9ydCIsImNhbmNlbF9zY29wZXMiLCJmb3JFYWNoIiwiY2FuY2VsX2FsbCIsImNhbmNlbGxlciIsInN0YXRpYyIsImVyciIsImF4aW9zIiwiaXNDYW5jZWwiLCJET01FeGNlcHRpb24iLCJlbnRyeV9vcl9pbnNlcnQiLCJoYXMiLCJBYm9ydENvbnRyb2xsZXIiLCJ1cmwiLCJjb25maWciLCJ0b2tlbl9mb3Jfc2NvcGUiLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2lnbmFsIiwidGhlbiIsInJlcyIsImZ1bGZpbGwiLCJjYXRjaCIsImdldF9yZXRyeSIsInJldHJ5IiwiZG9fcmV0cnlfdGFzayIsInBvc3QiLCJkYXRhIiwicG9zdF9yZXRyeSIsImRlbGV0ZV9yZXRyeSIsInB1dCIsInB1dF9yZXRyeSIsImhlYWQiLCJoZWFkX3JldHJ5Iiwib3B0aW9ucyIsIm9wdGlvbnNfcmV0cnkiLCJwYXRjaCIsInBhdGNoX3JldHJ5Il0sIm1hcHBpbmdzIjoi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
