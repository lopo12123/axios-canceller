"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("axios"),t=require("./core.js");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=r(e);exports.UseAxios=class{#e;constructor(e={}){this.#e=e}#t=new Map;get request_interceptors(){return[...this.#t.keys()]}#r=new Map;get response_interceptors(){return[...this.#r.keys()]}add_request_interceptor(e,t){this.#t.set(e,t)}remove_request_interceptor(e){this.#t.delete(e)}clear_request_interceptor(){this.#t.clear()}add_response_interceptor(e,t){this.#r.set(e,t)}remove_response_interceptor(e){this.#r.delete(e)}clear_response_interceptor(){this.#r.clear()}#s=new Map;get scopes(){return[...this.#s.keys()]}cancel_scope(e,t=""){this.#s.get(e)?.abort(t),this.#s.delete(e)}cancel_scopes(...e){e.forEach((e=>{this.cancel_scope(e)}))}cancel_all(){this.#s.forEach((e=>{e.abort()})),this.#s.clear()}static isCancel=e=>s.default.isCancel(e)||e instanceof DOMException&&"AbortError"===e.name;isCancel=e=>s.default.isCancel(e)||e instanceof DOMException&&"AbortError"===e.name;entry_or_insert(e){return this.#s.has(e)||this.#s.set(e,new AbortController),this.#s.get(e)}get(e,t,r){const o=this.entry_or_insert(e);return r&&this.#t.forEach((e=>{e.fn(r)})),new Promise(((e,n)=>{s.default.get(t,{...r??this.#e,signal:o.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),n(e)}))}))}get_retry(e,r,s,o){return t.do_retry_task(r,this.get,[e,s,o],this.isCancel)}post(e,t,r,o){const n=this.entry_or_insert(e);return o&&this.#t.forEach((e=>{e.fn(o)})),new Promise(((e,i)=>{s.default.post(t,r,{...o??this.#e,signal:n.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}post_retry(e,r,s,o,n){return t.do_retry_task(r,this.post,[e,s,o,n],this.isCancel)}delete(e,t,r){const o=this.entry_or_insert(e);return r&&this.#t.forEach((e=>{e.fn(r)})),new Promise(((e,n)=>{s.default.delete(t,{...r??this.#e,signal:o.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),n(e)}))}))}delete_retry(e,r,s,o){return t.do_retry_task(r,this.delete,[e,s,o],this.isCancel)}put(e,t,r,o){const n=this.entry_or_insert(e);return o&&this.#t.forEach((e=>{e.fn(o)})),new Promise(((e,i)=>{s.default.put(t,r,{...o??this.#e,signal:n.signal}).then((t=>{this.#r.forEach((e=>{e.fulfill(t)})),e(t)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}put_retry(e,r,s,o,n){return t.do_retry_task(r,this.put,[e,s,o,n],this.isCancel)}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlX2F4aW9zLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvdXNlX2F4aW9zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbImdsb2JhbF9jb25maWciLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJyZXF1ZXN0X2ludGVyY2VwdG9ycyIsIk1hcCIsImtleXMiLCJyZXNwb25zZV9pbnRlcmNlcHRvcnMiLCJhZGRfcmVxdWVzdF9pbnRlcmNlcHRvciIsIm5hbWUiLCJpbnRlcmNlcHRvciIsInNldCIsInJlbW92ZV9yZXF1ZXN0X2ludGVyY2VwdG9yIiwiZGVsZXRlIiwiY2xlYXJfcmVxdWVzdF9pbnRlcmNlcHRvciIsImNsZWFyIiwiYWRkX3Jlc3BvbnNlX2ludGVyY2VwdG9yIiwicmVtb3ZlX3Jlc3BvbnNlX2ludGVyY2VwdG9yIiwiY2xlYXJfcmVzcG9uc2VfaW50ZXJjZXB0b3IiLCJzY29wZXMiLCJjYW5jZWxfc2NvcGUiLCJzY29wZSIsIm1lc3NhZ2UiLCJnZXQiLCJhYm9ydCIsImNhbmNlbF9zY29wZXMiLCJmb3JFYWNoIiwiY2FuY2VsX2FsbCIsImNhbmNlbGxlciIsInN0YXRpYyIsImVyciIsImF4aW9zIiwiaXNDYW5jZWwiLCJET01FeGNlcHRpb24iLCJlbnRyeV9vcl9pbnNlcnQiLCJoYXMiLCJBYm9ydENvbnRyb2xsZXIiLCJ1cmwiLCJjb25maWciLCJ0b2tlbl9mb3Jfc2NvcGUiLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2lnbmFsIiwidGhlbiIsInJlcyIsImZ1bGZpbGwiLCJjYXRjaCIsImdldF9yZXRyeSIsInJldHJ5IiwiZG9fcmV0cnlfdGFzayIsInBvc3QiLCJkYXRhIiwicG9zdF9yZXRyeSIsImRlbGV0ZV9yZXRyeSIsInB1dCIsInB1dF9yZXRyeSJdLCJtYXBwaW5ncyI6InNOQVdBLE1BSWFBLEdBRVRDLFlBQVlELEVBQW9ELElBQzVERSxNQUFLRixFQUFpQkEsRUFNMUJHLEdBQXdCLElBQUlD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
