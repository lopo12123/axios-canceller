import e from"axios";import{do_retry_task as t}from"./core.js";class r{#e;constructor(e={}){this.#e=e}#t=new Map;get request_interceptors(){return[...this.#t.keys()]}#r=new Map;get response_interceptors(){return[...this.#r.keys()]}add_request_interceptor(e,t){this.#t.set(e,t)}remove_request_interceptor(e){this.#t.delete(e)}clear_request_interceptor(){this.#t.clear()}add_response_interceptor(e,t){this.#r.set(e,t)}remove_response_interceptor(e){this.#r.delete(e)}clear_response_interceptor(){this.#r.clear()}#s=new Map;get scopes(){return[...this.#s.keys()]}cancel_scope(e,t=""){this.#s.get(e)?.abort(t),this.#s.delete(e)}cancel_scopes(...e){e.forEach((e=>{this.cancel_scope(e)}))}cancel_all(){this.#s.forEach((e=>{e.abort()})),this.#s.clear()}static isCancel=t=>e.isCancel(t)||t instanceof DOMException&&"AbortError"===t.name;isCancel=t=>e.isCancel(t)||t instanceof DOMException&&"AbortError"===t.name;entry_or_insert(e){return this.#s.has(e)||this.#s.set(e,new AbortController),this.#s.get(e)}get(t,r,s){const n=this.entry_or_insert(t);return s&&this.#t.forEach((e=>{e.fn(s)})),new Promise(((t,i)=>{e.get(r,{...s??this.#e,signal:n.signal}).then((e=>{this.#r.forEach((t=>{t.fulfill(e)})),t(e)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}get_retry(e,r,s,n){return t(r,this.get,[e,s,n],this.isCancel)}post(t,r,s,n){const i=this.entry_or_insert(t);return n&&this.#t.forEach((e=>{e.fn(n)})),new Promise(((t,o)=>{e.post(r,s,{...n??this.#e,signal:i.signal}).then((e=>{this.#r.forEach((t=>{t.fulfill(e)})),t(e)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),o(e)}))}))}post_retry(e,r,s,n,i){return t(r,this.post,[e,s,n,i],this.isCancel)}delete(t,r,s){const n=this.entry_or_insert(t);return s&&this.#t.forEach((e=>{e.fn(s)})),new Promise(((t,i)=>{e.delete(r,{...s??this.#e,signal:n.signal}).then((e=>{this.#r.forEach((t=>{t.fulfill(e)})),t(e)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}delete_retry(e,r,s,n){return t(r,this.delete,[e,s,n],this.isCancel)}put(t,r,s,n){const i=this.entry_or_insert(t);return n&&this.#t.forEach((e=>{e.fn(n)})),new Promise(((t,o)=>{e.put(r,s,{...n??this.#e,signal:i.signal}).then((e=>{this.#r.forEach((t=>{t.fulfill(e)})),t(e)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),o(e)}))}))}put_retry(e,r,s,n,i){return t(r,this.put,[e,s,n,i],this.isCancel)}head(t,r,s){const n=this.entry_or_insert(t);return s&&this.#t.forEach((e=>{e.fn(s)})),new Promise(((t,i)=>{e.head(r,{...s??this.#e,signal:n.signal}).then((e=>{this.#r.forEach((t=>{t.fulfill(e)})),t(e)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}head_retry(e,r,s,n){return t(r,this.head,[e,s,n],this.isCancel)}options(t,r,s){const n=this.entry_or_insert(t);return s&&this.#t.forEach((e=>{e.fn(s)})),new Promise(((t,i)=>{e.options(r,{...s??this.#e,signal:n.signal}).then((e=>{this.#r.forEach((t=>{t.fulfill(e)})),t(e)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),i(e)}))}))}options_retry(e,r,s,n){return t(r,this.options,[e,s,n],this.isCancel)}patch(t,r,s,n){const i=this.entry_or_insert(t);return n&&this.#t.forEach((e=>{e.fn(n)})),new Promise(((t,o)=>{e.patch(r,s,{...n??this.#e,signal:i.signal}).then((e=>{this.#r.forEach((t=>{t.fulfill(e)})),t(e)})).catch((e=>{this.#r.forEach((t=>{t.reject(e)})),o(e)}))}))}patch_retry(e,r,s,n,i){return t(r,this.patch,[e,s,n,i],this.isCancel)}}export{r as UseAxios};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlX2F4aW9zLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvdXNlX2F4aW9zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbIlVzZUF4aW9zIiwiZ2xvYmFsX2NvbmZpZyIsImNvbnN0cnVjdG9yIiwidGhpcyIsInJlcXVlc3RfaW50ZXJjZXB0b3JzIiwiTWFwIiwia2V5cyIsInJlc3BvbnNlX2ludGVyY2VwdG9ycyIsImFkZF9yZXF1ZXN0X2ludGVyY2VwdG9yIiwibmFtZSIsImludGVyY2VwdG9yIiwic2V0IiwicmVtb3ZlX3JlcXVlc3RfaW50ZXJjZXB0b3IiLCJkZWxldGUiLCJjbGVhcl9yZXF1ZXN0X2ludGVyY2VwdG9yIiwiY2xlYXIiLCJhZGRfcmVzcG9uc2VfaW50ZXJjZXB0b3IiLCJyZW1vdmVfcmVzcG9uc2VfaW50ZXJjZXB0b3IiLCJjbGVhcl9yZXNwb25zZV9pbnRlcmNlcHRvciIsInNjb3BlcyIsImNhbmNlbF9zY29wZSIsInNjb3BlIiwibWVzc2FnZSIsImdldCIsImFib3J0IiwiY2FuY2VsX3Njb3BlcyIsImZvckVhY2giLCJjYW5jZWxfYWxsIiwiY2FuY2VsbGVyIiwic3RhdGljIiwiZXJyIiwiYXhpb3MiLCJpc0NhbmNlbCIsIkRPTUV4Y2VwdGlvbiIsImVudHJ5X29yX2luc2VydCIsImhhcyIsIkFib3J0Q29udHJvbGxlciIsInVybCIsImNvbmZpZyIsInRva2VuX2Zvcl9zY29wZSIsImZuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzaWduYWwiLCJ0aGVuIiwicmVzIiwiZnVsZmlsbCIsImNhdGNoIiwiZ2V0X3JldHJ5IiwicmV0cnkiLCJkb19yZXRyeV90YXNrIiwicG9zdCIsImRhdGEiLCJwb3N0X3JldHJ5IiwiZGVsZXRlX3JldHJ5IiwicHV0IiwicHV0X3JldHJ5IiwiaGVhZCIsImhlYWRfcmV0cnkiLCJvcHRpb25zIiwib3B0aW9uc19yZXRyeSIsInBhdGNoIiwicGF0Y2hfcmV0cnkiXSwi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
